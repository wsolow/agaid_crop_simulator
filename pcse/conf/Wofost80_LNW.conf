# -*- coding: utf-8 -*-
# Copyright (c) 2004-2021 Wageningen Environmental Research
# Allard de Wit (allard.dewit@wur.nl), August 2021
# Modified by Will Solow, 2024
"""PCSE configuration file for WOFOST 8.0 Water and NPK for limited water 
and nitrogen with abundant P/K
"""

from pcse.soil.soil_wrappers import SoilModuleWrapper_LNW
from pcse.crop.wofost8 import Wofost80
from pcse.agromanager import AgroManager

# Module to be used for water balance
SOIL = SoilModuleWrapper_LNW

# Module to be used for the crop simulation itself
CROP = Wofost80

# Module to use for AgroManagement actions
AGROMANAGEMENT = AgroManager

# interval for OUTPUT signals, either "daily"|"dekadal"|"monthly"
# For daily output you change the number of days between successive
# outputs using OUTPUT_INTERVAL_DAYS. For dekadal and monthly
# output this is ignored.
OUTPUT_INTERVAL = "daily"
OUTPUT_INTERVAL_DAYS = 1
# Weekday: Monday is 0 and Sunday is 6
OUTPUT_WEEKDAY = 0

# variables to save at OUTPUT signals
# Set to an empty list if you do not want any OUTPUT
OUTPUT_VARS = [ 
    # WOFOST STATES 
    "TAGP", "GASST", "MREST", "CTRAT", "CEVST", "HI", "DOF", "FINISH_TYPE",
    # WOFOST RATES 
    "GASS", "PGASS", "MRES", "ASRC", "DMI", "ADMI",
    # EVAPOTRANSPIRATION STATES
    "IDOST", "IDWST",
    # EVAPOTRANSPIRATION RATES  
    "EVWMX", "EVSMX", "TRAMX", "TRA", "IDOS", "IDWS", "RFWS", "RFOS", 
    "RFTRA",
    # LEAF DYNAMICS STATES
    "LV", "SLA", "LVAGE", "LAIEM", "LASUM", "LAIEXP", "LAIMAX", "LAI", "WLV", 
    "DWLV", "TWLV",
    # LEAF DYNAMICS RATES
    "GRLV", "DSLV1", "DSLV2", "DSLV3", "DSLV4", "DSLV", "DALV", "DRLV", "SLAT", 
    "FYSAGE", "GLAIEX", "GLASOL",
    # NPK DYNAMICS STATES
    "NamountLV", "PamountLV", "KamountLV", "NamountST", "PamountST", "KamountST",
    "NamountSO", "PamountSO", "KamountSO", "NamountRT", "PamountRT", "KamountRT",
    "NuptakeTotal", "PuptakeTotal", "KuptakeTotal", "NfixTotal", "NlossesTotal", 
    "PlossesTotal", "KlossesTotal", 
    # NPK DYNAMICS RATES
    "RNamountLV", "RPamountLV", "RKamountLV", 
    "RNamountST", "RPamountST", "RKamountST", "RNamountRT", "RPamountRT",  
    "RKamountRT", "RNamountSO", "RPamountSO", "RKamountSO", "RNdeathLV", 
    "RNdeathST", "RNdeathRT", "RPdeathLV", "RPdeathST", "RPdeathRT", "RKdeathLV",
    "RKdeathST", "RKdeathRT", "RNloss", "RPloss", "RKloss", 
    # PARTIONING STATES
    "FR", "FL", "FS", "FO", "PF",
    # PARTIONING RATES
        # NONE
    # VERNALIZATION STATES
    "VERN", "DOV", "ISVERNALISED",
    # VERNALIZATION RATES
    "VERNR", "VERNFAC",   
    # PHENOLOGY STATES
    "DVS", "TSUM", "TSUME", "DOS", "DOE", "DOA", "DOM", "DOH", "STAGE", 
    # PHENOLOGY RATES
    "DTSUME", "DTSUM", "DVR",
    # RESPIRATION STATES
        # NONE
    # RESPIRATION RATES
    "PMRES",
    # ROOT DYNAMICS STATES
    "RD", "RDM", "WRT", "DWRT", "TWRT", 
    # ROOT DYNAMICS RATES
    "RR", "GRRT", "DRRT", "GWRT", 
    # STEM DYNAMICS STATES
    "WST", "DWST", "TWST", "SAI", 
    # STEM DYNAMICS RATES
    "GRST", "DRST", "GWST",
    # STORAGE ORGAN DYNAMICS STATES
    "WSO", "DWSO", "TWSO", "PAI",
    # STORAGE ORGAN DYNAMICS RATES
    "GRSO", "DRSO", "GWSO",
    # NPK NUTRIENT DEMAND UPTAKE STATES
        # NONE
    # NPK NUTRIENT DEMAND UPTAKE RATES
    "RNuptakeLV", "RNuptakeST", "RNuptakeRT", "RNuptakeSO", "RPuptakeLV", 
    "RPuptakeST", "RPuptakeRT", "RPuptakeSO", "RKuptakeLV", "RKuptakeST", 
    "RKuptakeRT", "RKuptakeSO", "RNuptake", "RPuptake", "RKuptake", "RNfixation",
    "NdemandLV", "NdemandST", "NdemandRT", "NdemandSO", "PdemandLV", "PdemandST", 
    "PdemandRT", "PdemandSO", "KdemandLV", "KdemandST", "KdemandRT","KdemandSO", 
    "Ndemand", "Pdemand", "Kdemand", 
    # NPK STRESS STATES
        # NONE
    # NPK STRESS RATES
    "NNI", "PNI", "KNI", "NPKI", "RFNPK", 
    # NPK TRANSLOCATION STATES
    "NtranslocatableLV", "NtranslocatableST", "NtranslocatableRT", "PtranslocatableLV",
    "PtranslocatableST", "PtranslocatableRT", "KtranslocatableLV", "KtranslocatableST",
    "KtranslocatableRT", "Ntranslocatable", "Ptranslocatable", "Ktranslocatable", 
    # NPK TRANSLOCATION RATES
    "RNtranslocationLV", "RNtranslocationST", "RNtranslocationRT", "RPtranslocationLV",
    "RPtranslocationST", "RPtranslocationRT", "RKtranslocationLV", "RKtranslocationST",
    "RKtranslocationRT",
    # SOIL STATES
    "SM", "SS", "SSI", "WC", "WI", "WLOW", "WLOWI", "WWLOW", "WTRAT", "EVST", 
    "EVWT", "TSR", "RAINT", "WART", "TOTINF", "TOTIRR", "PERCT", "LOSST", "WBALRT", 
    "WBALTT", "DSOS", "TOTIRRIG",
    # SOIL RATES
    "EVS", "EVW", "WTRA", "RIN", "RIRR", "PERC", "LOSS", "DW", "DWLOW", "DTSR", 
    "DSS", "DRAINT", 
    # NPK SOIL DYNAMICS STATES
    "NSOIL", "PSOIL", "KSOIL", "NAVAIL", "PAVAIL", "KAVAIL", "TOTN", "TOTP", "TOTK",
    # NPK SOIL DYNAMICS RATES
    "RNSOIL", "RPSOIL", "RKSOIL", "RNAVAIL", "RPAVAIL", "RKAVAIL", "FERT_N_SUPPLY",
    "FERT_P_SUPPLY", "FERT_K_SUPPLY",
    ]

# Summary variables to save at CROP_FINISH signals
# Set to an empty list if you do not want any SUMMARY_OUTPUT
SUMMARY_OUTPUT_VARS = [
    # WOFOST STATES 
    "TAGP", "GASST", "MREST", "CTRAT", "CEVST", "HI", "DOF", "FINISH_TYPE",
    # WOFOST RATES 
    "GASS", "PGASS", "MRES", "ASRC", "DMI", "ADMI",
    # EVAPOTRANSPIRATION STATES
    "IDOST", "IDWST",
    # EVAPOTRANSPIRATION RATES  
    "EVWMX", "EVSMX", "TRAMX", "TRA", "IDOS", "IDWS", "RFWS", "RFOS", 
    "RFTRA",
    # LEAF DYNAMICS STATES
    "LV", "SLA", "LVAGE", "LAIEM", "LASUM", "LAIEXP", "LAIMAX", "LAI", "WLV", 
    "DWLV", "TWLV"
    # LEAF DYNAMICS RATES
    "GRLV", "DSLV1", "DSLV2", "DSLV3", "DSLV4", "DSLV", "DALV", "DRLV", "SLAT", 
    "FYSAGE", "GLAIEX", "GLASOL",
    # NPK DYNAMICS STATES
    "NamountLV", "PamountLV", "KamountLV", "NamountST", "PamountST", "KamountST",
    "NamountSO", "PamountSO", "KamountSO", "NamountRT", "PamountRT", "KamountRT",
    "NuptakeTotal", "PuptakeTotal", "KuptakeTotal", "NfixTotal", "NlossesTotal", 
    "PlossesTotal", "KlossesTotal", "RNamountLV", "RPamountLV", "RKamountLV", 
    "RNamountST", "RPamountST", "RKamountST", "RNamountRT", "RPamountRT",  
    "RKamountRT", "RNamountSO", "RPamountSO", "RKamountSO", "RNdeathLV", 
    "RNdeathST", "RNdeathRT", "RPdeathLV", "RPdeathST", "RPdeathRT", "RKdeathLV",
    "RKdeathST", "RKdeathRT", "RNloss", "RPloss", "RKloss", 
    # PARTIONING STATES
    "FR", "FL", "FS", "FO", "PF",
    # PARTIONING RATES
        # NONE
    # VERNALIZATION STATES
    "VERN", "DOV", "ISVERNALISED",
    # VERNALIZATION RATES
    "VERNR", "VERNFAC",   
    # PHENOLOGY STATES
    "DVS", "TSUM", "TSUME", "DOS", "DOE", "DOA", "DOM", "DOH", "STAGE", 
    # PHENOLOGY RATES
    "DTSUME", "DTSUM", "DVR",
    # RESPIRATION STATES
        # NONE
    # RESPIRATION RATES
    "PMRES",
    # ROOT DYNAMICS STATES
    "RD", "RDM", "WRT", "DWRT", "TWRT", 
    # ROOT DYNAMICS RATES
    "RR", "GRRT", "DRRT", "GWRT", 
    # STEM DYNAMICS STATES
    "WST", "DWST", "TWST", "SAI", 
    # STEM DYNAMICS RATES
    "GRST", "DRST", "GWST",
    # STORAGE ORGAN DYNAMICS STATES
    "WSO", "DWSO", "TWSO", "PAI",
    # STORAGE ORGAN DYNAMICS RATES
    "GRSO", "DRSO", "GWSO",
    # NPK NUTRIENT DEMAND UPTAKE STATES
        # NONE
    # NPK NUTRIENT DEMAND UPTAKE RATES
    "RNuptakeLV", "RNuptakeST", "RNuptakeRT", "RNuptakeSO", "RPuptakeLV", 
    "RPuptakeST", "RPuptakeRT", "RPuptakeSO", "RKuptakeLV", "RKuptakeST", 
    "RKuptakeRT", "RKuptakeSO", "RNuptake", "RPuptake", "RKuptake", "RNfixation",
    "NdemandLV", "NdemandST", "NdemandRT", "NdemandSO", "PdemandLV", "PdemandST", 
    "PdemandRT", "PdemandSO", "KdemandLV", "KdemandST", "KdemandRT","KdemandSO", 
    "Ndemand", "Pdemand", "Kdemand", 
    # NPK STRESS STATES
        # NONE
    # NPK STRESS RATES
    "NNI", "PNI", "KNI", "NPKI", "RFNPK", 
    # NPK TRANSLOCATION STATES
    "NtranslocatableLV", "NtranslocatableST", "NtranslocatableRT", "PtranslocatableLV",
    "PtranslocatableST", "PtranslocatableRT", "KtranslocatableLV", "KtranslocatableST",
    "KtranslocatableRT", "Ntranslocatable", "Ptranslocatable", "Ktranslocatable", 
    # NPK TRANSLOCATION RATES
    "RNtranslocationLV", "RNtranslocationST", "RNtranslocationRT", "RPtranslocationLV",
    "RPtranslocationST", "RPtranslocationRT", "RKtranslocationLV", "RKtranslocationST",
    "RKtranslocationRT",
    # SOIL STATES
    "SM", "SS", "SSI", "WC", "WI", "WLOW", "WLOWI", "WWLOW", "WTRAT", "EVST", 
    "EVWT", "TSR", "RAINT", "WART", "TOTINF", "TOTIRR", "PERCT", "LOSST", "WBALRT", 
    "WBALTT", "DSOS", "TOTIRRIG",
    # SOIL RATES
    "EVS", "EVW", "WTRA", "RIN", "RIRR", "PERC", "LOSS", "DW", "DWLOW", "DTSR", 
    "DSS", "DRAINT", 
    # NPK SOIL DYNAMICS STATES
    "NSOIL", "PSOIL", "KSOIL", "NAVAIL", "PAVAIL", "KAVAIL", "TOTN", "TOTP", "TOTK",
    # NPK SOIL DYNAMICS RATES
    "RNSOIL", "RPSOIL", "RKSOIL", "RNAVAIL", "RPAVAIL", "RKAVAIL", "FERT_N_SUPPLY",
    "FERT_P_SUPPLY", "FERT_K_SUPPLY",
    ]

# Summary variables to save at TERMINATE signals
# Set to an empty list if you do not want any TERMINAL_OUTPUT
TERMINAL_OUTPUT_VARS = [
    # WOFOST STATES 
    "TAGP", "GASST", "MREST", "CTRAT", "CEVST", "HI", "DOF", "FINISH_TYPE",
    # WOFOST RATES 
    "GASS", "PGASS", "MRES", "ASRC", "DMI", "ADMI",
    # EVAPOTRANSPIRATION STATES
    "IDOST", "IDWST",
    # EVAPOTRANSPIRATION RATES  
    "EVWMX", "EVSMX", "TRAMX", "TRA", "IDOS", "IDWS", "RFWS", "RFOS", 
    "RFTRA",
    # LEAF DYNAMICS STATES
    "LV", "SLA", "LVAGE", "LAIEM", "LASUM", "LAIEXP", "LAIMAX", "LAI", "WLV", 
    "DWLV", "TWLV"
    # LEAF DYNAMICS RATES
    "GRLV", "DSLV1", "DSLV2", "DSLV3", "DSLV4", "DSLV", "DALV", "DRLV", "SLAT", 
    "FYSAGE", "GLAIEX", "GLASOL",
    # NPK DYNAMICS STATES
    "NamountLV", "PamountLV", "KamountLV", "NamountST", "PamountST", "KamountST",
    "NamountSO", "PamountSO", "KamountSO", "NamountRT", "PamountRT", "KamountRT",
    "NuptakeTotal", "PuptakeTotal", "KuptakeTotal", "NfixTotal", "NlossesTotal", 
    "PlossesTotal", "KlossesTotal", "RNamountLV", "RPamountLV", "RKamountLV", 
    "RNamountST", "RPamountST", "RKamountST", "RNamountRT", "RPamountRT",  
    "RKamountRT", "RNamountSO", "RPamountSO", "RKamountSO", "RNdeathLV", 
    "RNdeathST", "RNdeathRT", "RPdeathLV", "RPdeathST", "RPdeathRT", "RKdeathLV",
    "RKdeathST", "RKdeathRT", "RNloss", "RPloss", "RKloss", 
    # PARTIONING STATES
    "FR", "FL", "FS", "FO", "PF",
    # PARTIONING RATES
        # NONE
    # VERNALIZATION STATES
    "VERN", "DOV", "ISVERNALISED",
    # VERNALIZATION RATES
    "VERNR", "VERNFAC",   
    # PHENOLOGY STATES
    "DVS", "TSUM", "TSUME", "DOS", "DOE", "DOA", "DOM", "DOH", "STAGE", 
    # PHENOLOGY RATES
    "DTSUME", "DTSUM", "DVR",
    # RESPIRATION STATES
        # NONE
    # RESPIRATION RATES
    "PMRES",
    # ROOT DYNAMICS STATES
    "RD", "RDM", "WRT", "DWRT", "TWRT", 
    # ROOT DYNAMICS RATES
    "RR", "GRRT", "DRRT", "GWRT", 
    # STEM DYNAMICS STATES
    "WST", "DWST", "TWST", "SAI", 
    # STEM DYNAMICS RATES
    "GRST", "DRST", "GWST",
    # STORAGE ORGAN DYNAMICS STATES
    "WSO", "DWSO", "TWSO", "PAI",
    # STORAGE ORGAN DYNAMICS RATES
    "GRSO", "DRSO", "GWSO",
    # NPK NUTRIENT DEMAND UPTAKE STATES
        # NONE
    # NPK NUTRIENT DEMAND UPTAKE RATES
    "RNuptakeLV", "RNuptakeST", "RNuptakeRT", "RNuptakeSO", "RPuptakeLV", 
    "RPuptakeST", "RPuptakeRT", "RPuptakeSO", "RKuptakeLV", "RKuptakeST", 
    "RKuptakeRT", "RKuptakeSO", "RNuptake", "RPuptake", "RKuptake", "RNfixation",
    "NdemandLV", "NdemandST", "NdemandRT", "NdemandSO", "PdemandLV", "PdemandST", 
    "PdemandRT", "PdemandSO", "KdemandLV", "KdemandST", "KdemandRT","KdemandSO", 
    "Ndemand", "Pdemand", "Kdemand", 
    # NPK STRESS STATES
        # NONE
    # NPK STRESS RATES
    "NNI", "PNI", "KNI", "NPKI", "RFNPK", 
    # NPK TRANSLOCATION STATES
    "NtranslocatableLV", "NtranslocatableST", "NtranslocatableRT", "PtranslocatableLV",
    "PtranslocatableST", "PtranslocatableRT", "KtranslocatableLV", "KtranslocatableST",
    "KtranslocatableRT", "Ntranslocatable", "Ptranslocatable", "Ktranslocatable", 
    # NPK TRANSLOCATION RATES
    "RNtranslocationLV", "RNtranslocationST", "RNtranslocationRT", "RPtranslocationLV",
    "RPtranslocationST", "RPtranslocationRT", "RKtranslocationLV", "RKtranslocationST",
    "RKtranslocationRT",
    # SOIL STATES
    "SM", "SS", "SSI", "WC", "WI", "WLOW", "WLOWI", "WWLOW", "WTRAT", "EVST", 
    "EVWT", "TSR", "RAINT", "WART", "TOTINF", "TOTIRR", "PERCT", "LOSST", "WBALRT", 
    "WBALTT", "DSOS", "TOTIRRIG",
    # SOIL RATES
    "EVS", "EVW", "WTRA", "RIN", "RIRR", "PERC", "LOSS", "DW", "DWLOW", "DTSR", 
    "DSS", "DRAINT", 
    # NPK SOIL DYNAMICS STATES
    "NSOIL", "PSOIL", "KSOIL", "NAVAIL", "PAVAIL", "KAVAIL", "TOTN", "TOTP", "TOTK",
    # NPK SOIL DYNAMICS RATES
    "RNSOIL", "RPSOIL", "RKSOIL", "RNAVAIL", "RPAVAIL", "RKAVAIL", "FERT_N_SUPPLY",
    "FERT_P_SUPPLY", "FERT_K_SUPPLY",
    ]

